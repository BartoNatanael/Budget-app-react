{"version":3,"sources":["data/fetch/budget.fetch.js","data/fetch/common.fetch.js","data/fetch/index.js","data/actions/budget.action.js","pages/Budget/components/ChooseBudgetIdForm/ChoseBudgetForm.js","pages/Budget/components/ChooseBudgetIdForm/ChooseBudgetView.js"],"names":["fetchBudget","a","id","fetch","process","response","json","data","fetchBudgetWithCategories","fetchBudgets","fetchOneBudget","fetchBudgetedCategories","addTransaction","budgetId","method","headers","body","JSON","stringify","deleteTransaction","addBudget","modifyBudget","obj","modifyBudgetCategory","budgetCategoryId","addBudgetCategory","deleteBudgetCategory","fetchAllCategories","budget","common","selectParentCategory","type","SET_SELECTED_PARENT_CATEGORY_ID","payload","selectBudgetId","SET_BUDGET_ID","setBudgetedCategories","categories","SET_BUDGETED_CATEGORIES","ChoseBudgetForm","onSubmit","budgets","initialValues","render","handleSubmit","submitting","form","map","key","name","component","value","className","disabled","connect","state","selectedBudgetId","useQuery","API","history","useHistory","goBack"],"mappings":"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","file":"static/js/7.940fe6ad.chunk.js","sourcesContent":["export const fetchBudget = async({id}) => {\n    const response  = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/?_embed=transactions`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgetWithCategories = async({id}) => {\n    const response  = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/?_embed=budgetCategories`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgets = async() => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchOneBudget = async({id}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgetedCategories = async({id}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/budgetCategories`);\n    const data = await response.json();\n    return data;\n};\n\nexport const addTransaction = async({budgetId, data}) => {\n    const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/budgets/${budgetId}/transactions`,\n        {\n            method: \"POST\",\n            headers: {\n                'Content-type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        }\n        );\n    return await response.json();\n};\n\nexport const deleteTransaction = async({id}) => {\n    const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/transactions/${id}`,\n        {\n            method: \"DELETE\"\n        }\n    )\n    return await response.json();\n}\n\nexport const addBudget = async({data}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets`,\n    {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    }\n    );\n    return await response.json();\n}\n\nexport const modifyBudget = async({budgetId, obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${budgetId}`,\n    {\n        method: \"PUT\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\n\nexport const modifyBudgetCategory = async({budgetCategoryId, obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/${budgetCategoryId}`,\n    {\n        method: \"PUT\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\nexport const addBudgetCategory = async({obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/`,\n    {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\nexport const deleteBudgetCategory = async({budgetCategoryId}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/${budgetCategoryId}`,\n    {\n        method: \"DELETE\"\n    }\n    );\n    return await response.json();\n}","export const fetchAllCategories = async() => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/categories/?_expand=parentCategory`);\n    const data = await response.json();\n    return data;\n};\n","import * as budget from './budget.fetch';\nimport * as common from './common.fetch';\n\nexport default {\n    budget,\n    common\n}","import {\n    SET_SELECTED_PARENT_CATEGORY_ID,\n    SET_BUDGET_ID,\n    SET_BUDGETED_CATEGORIES\n} from 'data/constants';\n\nexport const selectParentCategory = (id) => {\n    return {\n        type: SET_SELECTED_PARENT_CATEGORY_ID,\n        payload: id,\n    }\n};\n\nexport const selectBudgetId = (id) => {\n    return {\n        type: SET_BUDGET_ID,\n        payload: id,\n    }\n}\n\nexport const setBudgetedCategories = (categories) => {\n    return {\n        type: SET_BUDGETED_CATEGORIES,\n        payload: categories\n    }\n}","import React from 'react';\nimport { Form, Field } from 'react-final-form';\n\nfunction ChoseBudgetForm({onSubmit, budgets, id}){\n\n    return(\n        <Form\n            onSubmit={onSubmit}\n            initialValues={{budget: id}}\n            render={({handleSubmit, form, submitting}) => (\n                <form onSubmit={handleSubmit}>\n                    <h1>Choose budget</h1>\n                    {budgets.map(budget =>{\n                        return(\n                            <div key={budget.id}>\n                                <label key={budget.id}>\n                                    <Field\n                                        name='budget'\n                                        component=\"input\"\n                                        type=\"radio\"\n                                        value={budget.id}\n                                    />\n                                {budget.name}\n                                </label>\n                            </div>\n                        )\n                    })}\n                    \n                    <br/>\n                    <div className=\"buttons\">\n                        <button type=\"submit\" disabled={submitting}>\n                        Choose\n                        </button>\n                    </div>\n                </form>\n            )}\n        />\n    )\n};\n\nexport default ChoseBudgetForm;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router-dom';\nimport ChooseBudgetForm from './ChoseBudgetForm';\n\nimport { selectBudgetId } from 'data/actions/budget.action';\n\nimport API from 'data/fetch';\n\nfunction ChooseBudgetView({ budgetId, selectBudgetId }){\n    const { data: budgets } = useQuery('budgets', API.budget.fetchBudgets);\n    const history = useHistory();\n\n    const handleSubmitChooseBudget = ({budget}) => {\n        selectBudgetId(budget);\n        history.goBack();\n    };\n    return(\n        <ChooseBudgetForm\n            onSubmit={handleSubmitChooseBudget}\n            budgets={budgets}\n            id={budgetId}\n        />\n    )\n}\n\nexport default connect(state => ({\n    budgetId : state.budget.selectedBudgetId,\n}),{\n    selectBudgetId\n})(ChooseBudgetView);"],"sourceRoot":""}