(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[10],{79:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"fetchBudget",(function(){return s})),n.d(r,"fetchBudgetWithCategories",(function(){return i})),n.d(r,"fetchBudgets",(function(){return d})),n.d(r,"fetchOneBudget",(function(){return f})),n.d(r,"fetchBudgetedCategories",(function(){return p})),n.d(r,"addTransaction",(function(){return l})),n.d(r,"deleteTransaction",(function(){return h})),n.d(r,"addBudget",(function(){return b})),n.d(r,"modifyBudget",(function(){return g})),n.d(r,"modifyBudgetCategory",(function(){return v})),n.d(r,"addBudgetCategory",(function(){return m})),n.d(r,"deleteBudgetCategory",(function(){return y}));var a={};n.r(a),n.d(a,"fetchAllCategories",(function(){return j}));var c=n(31),u=n.n(c),o=n(38),s=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n,"/?_embed=transactions"));case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n,"/?_embed=budgetCategories"));case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:3001","/budgets"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n));case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n,"/budgetCategories"));case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.budgetId,r=e.data,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n,"/transactions"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.next=3,fetch("".concat("http://localhost:3001","/transactions/").concat(n),{method:"DELETE"});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.data,t.next=3,fetch("".concat("http://localhost:3001","/budgets"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.budgetId,r=e.obj,t.next=3,fetch("".concat("http://localhost:3001","/budgets/").concat(n),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.budgetCategoryId,r=e.obj,t.next=3,fetch("".concat("http://localhost:3001","/budgetCategories/").concat(n),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:return a=t.sent,t.next=6,a.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.obj,t.next=3,fetch("".concat("http://localhost:3001","/budgetCategories/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(o.a)(u.a.mark((function t(e){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.budgetCategoryId,t.next=3,fetch("".concat("http://localhost:3001","/budgetCategories/").concat(n),{method:"DELETE"});case 3:return r=t.sent,t.next=6,r.json();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(u.a.mark((function t(){var e,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:3001","/categories/?_expand=parentCategory"));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();e.a={budget:r,common:a}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(t){var e=Number(t);return new Intl.NumberFormat("pl",{style:"currency",currency:"PLN"}).format(e)},a=function(t){var e=new Date(t);return new Intl.DateTimeFormat("pl").format(e)}},89:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return m}));var r=n(23),a=n(0),c=n.n(a),u=n(39),o=n(82),s=n(22),i=n(83),d=n(79),f=n(3),p=n(2);function l(){var t=Object(f.a)(["\n  border: 1px solid ",";\n  padding: ","px;\n  display: flex;\n  justify-content: space-between;\n\n  > *:nth-child(1) {\n    flex: 4;\n  }\n  > *:nth-child(2) {\n    flex: 2;\n  }\n  > *:nth-child(3) {\n    flex: 3;\n  }\n  > *:nth-child(4) {\n    flex: 1;\n  }\n"]);return l=function(){return t},t}function h(){var t=Object(f.a)(["\n  > li + li {\n    margin-top: ","px;\n  }\n\n  li {\n    margin: 0;\n  }\n"]);return h=function(){return t},t}var b=p.default.ul(h(),(function(t){return t.theme.spacing.xs})),g=p.default.li(l(),(function(t){return t.theme.colors.gray.dark}),(function(t){return t.theme.spacing.xs})),v=n(5);var m=Object(u.b)((function(t){return{selectedParentCategoryId:t.budget.selectedParentCategoryId,budgetId:t.budget.selectedBudgetId}}))((function(t){var e=t.budgetId,n=t.selectedParentCategoryId,u=Object(s.d)(["budget",{id:e}],d.a.budget.fetchBudget).data,f=Object(s.d)("allCategories",d.a.common.fetchAllCategories).data,p=Object(s.d)(["budgetedCategories",{id:e}],d.a.budget.fetchBudgetedCategories).data,l=Object(s.c)(d.a.budget.deleteTransaction,{refetchQueries:[["budget",{id:e}]]}),h=Object(r.a)(l,1)[0],m=Object(a.useMemo)((function(){return"undefined"===typeof n?u.transactions:null===n?u.transactions.filter((function(t){return!p.some((function(e){return e.categoryId===t.categoryId}))})):u.transactions.filter((function(t){try{return f.find((function(e){return e.id===t.categoryId})).parentCategory.name===n}catch(e){return!1}}))}),[n,u.transactions,f,p]),y=Object(a.useMemo)((function(){return Object(o.groupBy)(m,(function(t){return new Date(t.date).getUTCDate()}))}),[m]);return c.a.createElement(b,null,Object.entries(y).map((function(t){var e=Object(r.a)(t,2),n=e[0],a=e[1];return c.a.createElement("li",{key:n},c.a.createElement("ul",null,a.map((function(t){return c.a.createElement(g,{key:t.id},c.a.createElement("div",null,t.description),c.a.createElement("div",null,Object(i.a)(t.amount)),c.a.createElement("div",null,Object(i.b)(t.date)),c.a.createElement("div",null,(f.find((function(e){return e.id===t.categoryId}))||{}).name),c.a.createElement(v.a,{onClick:function(){return e=t.id,void h({id:e});var e}},"Delete"))}))))})))}))}}]);
//# sourceMappingURL=10.414124ac.chunk.js.map