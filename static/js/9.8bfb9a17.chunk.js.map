{"version":3,"sources":["data/fetch/budget.fetch.js","data/fetch/common.fetch.js","data/fetch/index.js","data/actions/budget.action.js","../node_modules/uuid/dist/esm-browser/rng.js","../node_modules/uuid/dist/esm-browser/regex.js","../node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/uuid/dist/esm-browser/validate.js","../node_modules/uuid/dist/esm-browser/v4.js","pages/Budget/components/EditBudgetForm/EditBudgetForm.js","pages/Budget/components/EditBudgetForm/EditBudgetView.js"],"names":["fetchBudget","a","id","fetch","process","response","json","data","fetchBudgetWithCategories","fetchBudgets","fetchOneBudget","fetchBudgetedCategories","addTransaction","budgetId","method","headers","body","JSON","stringify","deleteTransaction","addBudget","modifyBudget","obj","modifyBudgetCategory","budgetCategoryId","addBudgetCategory","deleteBudgetCategory","fetchAllCategories","budget","common","selectParentCategory","type","SET_SELECTED_PARENT_CATEGORY_ID","payload","selectBudgetId","SET_BUDGET_ID","setBudgetedCategories","categories","SET_BUDGETED_CATEGORIES","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","Error","validate","uuid","REGEX","test","byteToHex","i","push","toString","substr","arr","offset","arguments","length","undefined","toLowerCase","TypeError","v4","options","buf","rnds","random","EditBudgetForm","onSubmitBudget","noop","budgetToEdit","onSubmit","render","handleSubmit","form","submitting","pristine","name","input","meta","placeholder","error","touched","totalAmount","map","key","parse","value","parseFloat","step","className","disabled","onClick","reset","connect","state","selectedBudgetId","actualBudgetedCategories","budgetedCategories","budgetWithCategories","useQuery","API","allCategories","oneBudget","useMutation","refetchQueries","variables","mutateBudget","mutateCategory","addCategory","deleteCategory","history","useHistory","category","budgetCategories","find","budgetedCategory","categoryId","handleSubmitAddTransaction","values","console","log","Object","entries","goBack"],"mappings":"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","file":"static/js/9.8bfb9a17.chunk.js","sourcesContent":["export const fetchBudget = async({id}) => {\n    const response  = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/?_embed=transactions`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgetWithCategories = async({id}) => {\n    const response  = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/?_embed=budgetCategories`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgets = async() => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchOneBudget = async({id}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}`);\n    const data = await response.json();\n    return data;\n};\n\nexport const fetchBudgetedCategories = async({id}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${id}/budgetCategories`);\n    const data = await response.json();\n    return data;\n};\n\nexport const addTransaction = async({budgetId, data}) => {\n    const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/budgets/${budgetId}/transactions`,\n        {\n            method: \"POST\",\n            headers: {\n                'Content-type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        }\n        );\n    return await response.json();\n};\n\nexport const deleteTransaction = async({id}) => {\n    const response = await fetch(\n        `${process.env.REACT_APP_API_URL}/transactions/${id}`,\n        {\n            method: \"DELETE\"\n        }\n    )\n    return await response.json();\n}\n\nexport const addBudget = async({data}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets`,\n    {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    }\n    );\n    return await response.json();\n}\n\nexport const modifyBudget = async({budgetId, obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgets/${budgetId}`,\n    {\n        method: \"PUT\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\n\nexport const modifyBudgetCategory = async({budgetCategoryId, obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/${budgetCategoryId}`,\n    {\n        method: \"PUT\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\nexport const addBudgetCategory = async({obj}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/`,\n    {\n        method: \"POST\",\n        headers: {\n            'Content-type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }\n    );\n    return await response.json();\n}\n\nexport const deleteBudgetCategory = async({budgetCategoryId}) => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/budgetCategories/${budgetCategoryId}`,\n    {\n        method: \"DELETE\"\n    }\n    );\n    return await response.json();\n}","export const fetchAllCategories = async() => {\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/categories/?_expand=parentCategory`);\n    const data = await response.json();\n    return data;\n};\n","import * as budget from './budget.fetch';\nimport * as common from './common.fetch';\n\nexport default {\n    budget,\n    common\n}","import {\n    SET_SELECTED_PARENT_CATEGORY_ID,\n    SET_BUDGET_ID,\n    SET_BUDGETED_CATEGORIES\n} from 'data/constants';\n\nexport const selectParentCategory = (id) => {\n    return {\n        type: SET_SELECTED_PARENT_CATEGORY_ID,\n        payload: id,\n    }\n};\n\nexport const selectBudgetId = (id) => {\n    return {\n        type: SET_BUDGET_ID,\n        payload: id,\n    }\n}\n\nexport const setBudgetedCategories = (categories) => {\n    return {\n        type: SET_BUDGETED_CATEGORIES,\n        payload: categories\n    }\n}","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import React from 'react';\nimport { Form, Field } from 'react-final-form';\nimport { noop } from 'lodash';\nimport { connect } from 'react-redux';\nimport { setBudgetedCategories } from 'data/actions/budget.action';\n\nfunction EditBudgetForm({ onSubmitBudget = noop, budget, budgetToEdit }){\n    return(\n        <Form\n        onSubmit={onSubmitBudget}\n        render={({ handleSubmit, form, submitting, pristine }) =>(\n            <form onSubmit={handleSubmit}>\n                <Field name=\"name\">\n                    {({ input, meta }) => (\n                        <div>\n                            <label>Budget name</label><br/>\n                            <label>Current name: {budget.name}</label><br/>\n                            <input {...input} type=\"text\" placeholder=\"New name\" />\n                            {meta.error && meta.touched && <span>{meta.error}</span>}\n                        </div>\n                        )}\n                </Field>\n                <Field name=\"totalAmount\">\n                    {({ input, meta }) => (\n                        <div>\n                            <label>Budget name</label><br/>\n                            <label>Current name: {budget.totalAmount}</label><br/>\n                            <input {...input} type=\"number\" placeholder=\"New amount\" />\n                            {meta.error && meta.touched && <span>{meta.error}</span>}\n                        </div>\n                        )}\n                </Field>\n                {budgetToEdit.map(({name, id, budget}) => (\n                    <Field key={id} name={name} parse={value => parseFloat(value, 10)}>\n                    {({ input, meta }) => (\n                    <div>\n                        <label>Category name: {name}, current amount: {budget ? budget.budget : 'No budget'}</label>\n                        <input {...input} type=\"number\" step=\"\" placeholder=\"New amount\" />\n                        {meta.error && meta.touched && <span>{meta.error}</span>}\n                    </div>\n                    )}\n                </Field>\n                ))}\n                <div className=\"buttons\">\n                    <button type=\"submit\" disabled={submitting}>\n                        Submit\n                    </button>\n                    <button\n                        type=\"button\"\n                        onClick={form.reset}\n                        disabled={submitting || pristine}\n                        >\n                        Reset\n                    </button>\n                </div>\n            </form>\n        )}\n        />\n    );\n};\n\nexport default EditBudgetForm;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { useQuery, useMutation } from 'react-query';\nimport { useHistory } from 'react-router-dom';\nimport { v4 } from 'uuid';\n\nimport API from 'data/fetch';\nimport EditBudgetForm from './EditBudgetForm';\nimport { setBudgetedCategories } from 'data/actions/budget.action';\n\nfunction AddTransactionView({ budgetId, actualBudgetedCategories, setBudgetedCategories }){\n    const { data: budgetWithCategories } = useQuery(['budgetWithCategories', {id: budgetId}], API.budget.fetchBudgetWithCategories);\n    const { data: allCategories } = useQuery('allCategories', API.common.fetchAllCategories);\n    const { data: oneBudget } = useQuery(['oneBudget', {id: budgetId}], API.budget.fetchOneBudget);\n    const [mutateBudget] = useMutation(API.budget.modifyBudget,{\n      refetchQueries: [\n        ['budget', {id: budgetId}],\n        ['budgetWithCategories', {id: budgetId}],\n      ],\n      variables: {\n        budgetId\n      }\n    });\n    const [mutateCategory] = useMutation(API.budget.modifyBudgetCategory, {\n        refetchQueries: [\n            ['budget', {id: budgetId}],\n            ['budgetWithCategories', {id: budgetId}],\n          ]\n    })\n    const [addCategory] = useMutation(API.budget.addBudgetCategory, {\n        refetchQueries: [\n            ['budget', {id: budgetId}],\n            ['budgetWithCategories', {id: budgetId}],\n          ]\n    })\n    const [deleteCategory] = useMutation(API.budget.deleteBudgetCategory, {\n        refetchQueries: [\n            ['budget', {id: budgetId}],\n            ['budgetWithCategories', {id: budgetId}],\n          ]\n    })\n    const history = useHistory();\n\n    const budgetToEdit = allCategories.map(category => {\n        const value = budgetWithCategories.budgetCategories.find(budgetedCategory => budgetedCategory.categoryId === category.id);\n\n        return {name: category.name, id: category.id, budget: value}\n    })\n    \n    const handleSubmitAddTransaction = async (values) => {\n\n        for (const [name, value] of Object.entries(values)) {\n            if (name === 'name'){\n                const obj = oneBudget;\n                obj.name = value;\n                await mutateBudget({\n                    budgetId: budgetId,\n                    obj: obj\n                })\n            } else if (name === 'totalAmount'){\n                const obj = oneBudget;\n                obj.totalAmount = value;\n                await mutateBudget({\n                    budgetId: budgetId,\n                    obj: obj\n                })\n            } \n            else {\n                if (value) {\n\n                    if (budgetWithCategories.budgetCategories.find(category => category.id === allCategories.find(category => category.name === name).id)){\n                        \n                        const obj = (budgetWithCategories.budgetCategories.find(category => category.id === allCategories.find(category => category.name === name).id))\n                        obj.budget = value\n\n                        await mutateCategory({\n                            type: \"PUT\",\n                            budgetCategoryId: obj.id,\n                            obj: obj\n                        })\n\n                    } else {\n                        const obj = {\n                            id: v4(),\n                            budget: value,\n                            budgetId: budgetId.toString(10),\n                            categoryId: allCategories.find(category => category.name === name).id,\n                        }\n                        console.log(obj);\n                        await addCategory({\n                            obj: obj\n                        });\n                        actualBudgetedCategories.push(obj);\n                        await setBudgetedCategories(actualBudgetedCategories);\n                    }\n                } else {\n                    const obj = (budgetWithCategories.budgetCategories.find(category => category.categoryId === allCategories.find(category => category.name === name).id))\n                    await deleteCategory({\n                        budgetCategoryId: obj.id\n                    })\n                }\n            }\n        }\n        history.goBack();\n      \n      }\n    return(\n        <EditBudgetForm\n            budget={budgetWithCategories}\n            budgetToEdit={budgetToEdit}\n            onSubmitBudget={handleSubmitAddTransaction}\n        />\n    )\n};\n\nexport default connect(state => ({\n  budgetId : state.budget.selectedBudgetId,\n  actualBudgetedCategories: state.budget.budgetedCategories\n}), {\n  setBudgetedCategories\n})(AddTransactionView);"],"sourceRoot":""}